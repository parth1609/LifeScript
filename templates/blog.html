{% extends 'base.html' %}

{% block content %}
<h1 class="mb-4">Blog Posts</h1>
{% for post in posts %}
<div class="card mb-4">
    <div class="card-body">
        <h2 class="card-title">
            <a href="{{ url_for('view_post', id=post.id) }}" class="text-decoration-none text-dark">{{ post.title }}</a>
        </h2>
        <p class="card-text">{{ post.content[:200] }}{% if post.content|length > 200 %}...{% endif %}</p>
        <p class="card-text"><small class="text-muted">Posted on {{ post.date.strftime('%B %d, %Y') }}</small></p>
        <a href="{{ url_for('view_post', id=post.id) }}" class="btn btn-primary">Read More</a>
        <a href="{{ url_for('edit_post', id=post.id) }}" class="btn btn-secondary">Edit</a>
        <a href="{{ url_for('delete_post', id=post.id) }}" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this post?')">Delete</a>
    </div>
</div>
{% endfor %}
{% endblock content %}